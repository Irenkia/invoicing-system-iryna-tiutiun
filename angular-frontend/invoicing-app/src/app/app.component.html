<div class="container" role="main">
  <br />
  <h1>Companies</h1>
  <div>
    <br />
    <h3>List of companies:</h3>
    <br />
    <table
      id="companiesTable"
      class="table table-striped thead-light table-bordered"
    >
      <tr>
        <th id="taxIdHeader">Tax identification number</th>
        <th id="addressHeader">Address</th>
        <th id="nameHeader">Name</th>
        <th id="pensionInsuranceHeader">Pension insurance</th>
        <th id="healthInsuranceHeader">Health insurance</th>
        <th></th>
      </tr>

      <tr *ngFor="let company of companies">
        <td *ngIf="!company.editMode">{{ company.taxIdentificationNumber }}</td>
        <td *ngIf="company.editMode">
          <input
            [(ngModel)]="company.editedCompany.taxIdentificationNumber"
            type="text"
            class="form-control"
            name="taxIdentificationNumber"
          />
        </td>

        <td *ngIf="!company.editMode">{{ company.address }}</td>
        <td *ngIf="company.editMode">
          <input
            [(ngModel)]="company.editedCompany.address"
            type="text"
            class="form-control"
            name="address"
          />
        </td>

        <td *ngIf="!company.editMode">{{ company.name }}</td>
        <td *ngIf="company.editMode">
          <input
            [(ngModel)]="company.editedCompany.name"
            type="text"
            class="form-control"
            name="name"
          />
        </td>

        <td *ngIf="!company.editMode">{{ company.pensionInsurance }}</td>
        <td *ngIf="company.editMode">
          <input
            [(ngModel)]="company.editedCompany.pensionInsurance"
            type="text"
            class="form-control"
            name="pensionInsurance"
          />
        </td>

        <td *ngIf="!company.editMode">{{ company.healthInsurance }}</td>
        <td *ngIf="company.editMode">
          <input
            [(ngModel)]="company.editedCompany.healthInsurance"
            type="text"
            class="form-control"
            name="healthInsurance"
          />
        </td>

        <td class="d-flex justify-content-center">
          <button
            *ngIf="!company.editMode"
            (click)="triggerUpdate(company)"
            class="btn btn-secondary"
          >
            Edit
          </button>
          <span *ngIf="!company.editMode">&nbsp;</span>
          <button
            *ngIf="!company.editMode"
            (click)="deleteCompany(company)"
            class="btn btn-danger"
          >
            Delete
          </button>

          <button
            *ngIf="company.editMode"
            (click)="updateCompany(company)"
            class="btn btn-primary"
          >
            Update company
          </button>
          <span *ngIf="company.editMode">&nbsp;</span>
          <button
            *ngIf="company.editMode"
            (click)="cancelCompanyUpdate(company)"
            class="btn btn-secondary"
          >
            Cancel
          </button>
        </td>
      </tr>

      <tr>
        <td>
          <input
            [(ngModel)]="newCompany.taxIdentificationNumber"
            type="text"
            class="form-control"
            name="taxIdentificationNumber"
          />
        </td>
        <td>
          <input
            [(ngModel)]="newCompany.address"
            type="text"
            class="form-control"
            name="address"
          />
        </td>
        <td>
          <input
            [(ngModel)]="newCompany.name"
            type="text"
            class="form-control"
            name="name"
          />
        </td>
        <td>
          <input
            [(ngModel)]="newCompany.pensionInsurance"
            type="text"
            class="form-control"
            name="pensionInsurance"
          />
        </td>
        <td>
          <input
            [(ngModel)]="newCompany.healthInsurance"
            type="text"
            class="form-control"
            name="healthInsurance"
          />
        </td>
        <td>
          <input
            id="addCompanyBtn"
            (click)="addCompany()"
            type="button"
            class="btn btn-primary"
            value="Add company"
          />
        </td>
      </tr>
    </table>
  </div>
</div>
